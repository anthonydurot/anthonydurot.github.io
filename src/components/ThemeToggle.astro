<button 
  id="theme-toggle" 
  type="button" 
  class="relative p-2.5 rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200"
  aria-label="Toggle Dark Mode"
>
  <div class="relative w-5 h-5 overflow-hidden">
    <svg 
      class="w-5 h-5 absolute top-0 left-0 transition-all duration-500 transform rotate-0 scale-100 dark:-rotate-90 dark:scale-0 dark:opacity-0 text-slate-900" 
      fill="none" 
      viewBox="0 0 24 24" 
      stroke="currentColor" 
      stroke-width="2"
    >
      <circle cx="12" cy="12" r="5" />
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
    </svg>
    
    <svg 
      class="w-5 h-5 absolute top-0 left-0 transition-all duration-500 transform rotate-90 scale-0 opacity-0 dark:rotate-0 dark:scale-100 dark:opacity-100 text-slate-100" 
      fill="none" 
      viewBox="0 0 24 24" 
      stroke="currentColor" 
      stroke-width="2"
    >
      <path stroke-linecap="round" stroke-linejoin="round" d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
    </svg>
  </div>
</button>

<script is:inline>
  (() => {
    const btn = document.getElementById('theme-toggle');
    
    if (btn) {
      btn.addEventListener('click', () => {
        const element = document.documentElement;
        element.classList.toggle('dark');
        
        const isDark = element.classList.contains('dark');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
      });
    }
  })();
</script>